# Token configuration for experimaestro
# Memory-based token system
#
# Generated by: experimaestro launchers direct generate
#
# Token unit: {{ memory_token_unit_mib }} MiB
# Tasks request tokens based on memory requirements:
#   tokens_needed = ceil(memory_bytes / token_unit)

countertoken:
{% if use_memory_tokens %}
  # Memory tokens (CPU RAM)
  # {{ total_memory_tokens }} tokens x {{ memory_token_unit_mib }} MiB = {{ total_memory_tokens * memory_token_unit_mib }} MiB
  memory:
    tokens: {{ total_memory_tokens }}
{% endif %}
{% if use_gpu_tokens and total_gpu_tokens > 0 %}

{% if gpu_mode == "exclusive" %}
  # GPU tokens (exclusive access per GPU)
  gpu:
    tokens: {{ total_gpu_tokens }}
{% else %}
  # GPU memory tokens ({{ gpu_token_unit_mib }} MiB each)
  gpu:
    tokens: {{ total_gpu_tokens }}
{% endif %}
{% endif %}
